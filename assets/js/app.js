"use strict";var postSlider,Main;!function(t){var e=function(){function t(){}return t.init=function(){t.pluginActivator(),t.header(),t.mapInit(),t.topScroll(),t.mobileMenu(),t.createSliders(),t.tabsActivator(),t.accordionActivator(),t.serviceOpen(),t.faqOpen(),t.OpenSideBar(),t.OpenDesktop(),t.openMobileSearch(),t.selects(),t.popup(),t.concealedBlock(),t.openDatePicker(),t.timeTable(),t.openCalendar()},t.pluginActivator=function(){var t=$(".facts_slider_list"),e=$(".museum-info_slider");if(postSlider=$(".post-slider"),t.bxSlider({pager:!1,speed:1e3}),e.bxSlider({pager:!1}),postSlider.length>0){var i=postSlider.bxSlider({onSlideBefore:function(t){postSlider.find("li").filter(".active").removeClass("active"),t.addClass("active")},onSliderLoad:function(t){postSlider.find("li").eq(t+1).addClass("active")}});$(window).on("resize",function(){var t=i.getCurrentSlide();i.reloadSlider(),i.goToSlide(t)})}},t.header=function(){function t(){$(window).scrollTop()>157?e.addClass("fix"):e.removeClass("fix")}var e=$(".header");t(),$(window).on("scroll",function(){t()})},t.createSliders=function(){var t=$(".swipe-slider"),e=$(".double-slider"),o=$(".header-slider");if(t.length>0){new i(t)}if(e.length>0){new s(e)}if(o.length>0){new n(o)}},t.mapInit=function(){function t(){d=$(window).width()>1030?new ymaps.Map("map",{center:[59.88718917,29.82345388],zoom:12}):new ymaps.Map("map",{center:[59.88580883,29.89645071],zoom:12}),h=new ymaps.Placemark([59.88580883,29.89645071],{hintContent:"Петергоф",balloonContent:""},{iconLayout:"default#image",iconImageHref:"assets/img/marker.png",iconImageSize:[46,63],iconImageOffset:[-23,-63]}),d.geoObjects.add(h),s()}function e(){d=$(window).width()>1030?new ymaps.Map("map_hotel",{center:[59.88295254,29.90519919],zoom:15}):new ymaps.Map("map_hotel",{center:[59.88580883,29.89645071],zoom:15}),h=new ymaps.Placemark([59.88286626,29.9141685],{hintContent:"Петергоф",balloonContent:""},{iconLayout:"default#image",iconImageHref:"assets/img/marker.png",iconImageSize:[46,63],iconImageOffset:[-23,-63]}),d.geoObjects.add(h)}function i(){d=new ymaps.Map("map-contacts",{center:[59.88389126,29.9057155],zoom:15}),h=new ymaps.Placemark([59.88389126,29.9057155],{hintContent:"Петергоф",balloonContent:""},{iconLayout:"default#image",iconImageHref:"assets/img/marker.png",iconImageSize:[46,63],iconImageOffset:[-23,-63]}),d.geoObjects.add(h)}function s(){var t,e,i=$(".map-filter_input__from"),s=$(".map-filter_input__where"),o=$(".map_filter__submit");o.on("click",function(o){t=JSON.parse($(i).val()),e=JSON.parse($(s).val()),o.preventDefault(),0!==t.x&&n(t,e)})}function n(t,e){ymaps.route([{type:"wayPoint",point:[t.x,t.y]},{type:"wayPoint",point:[e.x,e.y]}],{mapStateAutoApply:!0}).then(function(t){t.getPaths().options.set({balloonContenBodyLayout:ymaps.templateLayoutFactory.createClass("$[properties.humanJamsTime]"),strokeColor:"0000ffff",opacity:.9}),d.geoObjects.each(function(t){"undefined"!=typeof t.routeOptions&&d.geoObjects.remove(t)}),d.geoObjects.add(t)})}if("undefined"!=typeof window.ymaps){var o=$("#map"),a=$("#map_hotel"),r=$("#map-contacts"),l=$(".object-menu_sub-menu_map");if(o.length>0&&ymaps.ready(t),a.length>0&&ymaps.ready(e),r.length>0&&ymaps.ready(i),l.length>0){var c=$(".left-sidebar");ymaps.ready(function(){var t=l.find(".object-menu_sub-menu_map_link a"),e=!1,i=new ymaps.Map("sub-menu_map",{center:[59.88295254,29.90519919],zoom:15,controls:[]});t.on("click",function(s){s.preventDefault(),e=!e,l.toggleClass("map-full"),$(".header").toggleClass("fix"),c.toggleClass("no-overflow"),i.container.fitToViewport(),t.text(e?"Уменьшить карту":"Увеличить карту")})})}var d,h}},t.topScroll=function(){var t=$(".sidebar-btn-top");$(".left-sidebar").css({height:$(".page_content").height()}),t.sticky({topSpacing:0}),t.on("click",function(t){t.preventDefault(),$("body").animate({scrollTop:0},500)}),$(window).on("resize",function(){$(".left-sidebar").css({height:$(".page_content").height()})})},t.mobileMenu=function(){var t=$(".mobile-menu"),e=t.find(".mobile-menu_obj-menu_list_item span"),i=$(".header-mobile_btn"),s=$(".main-container"),n=!1,o=0;e.on("click",function(){$(this).parent(".mobile-menu_obj-menu_list_item").toggleClass("open")}),i.on("click",function(){$(this).toggleClass("open"),n=!n,n?(o=s.width(),s.css({width:o,"margin-left":265}),$("body").css({"overflow-x":"hidden"})):(s.removeAttr("style"),$("body").css({"overflow-x":"auto"}))}),$(window).on("resize",function(){$(window).width()>1030&&n&&(s.removeAttr("style"),i.removeClass("open"),$("body").css({"overflow-x":"auto"}))})},t.tabsActivator=function(){var t=$(".tabpanel");t.length>0&&t.each(function(){var t=$(this),e=t.find(".tabpanel_nav_item"),i=e.find("a"),s=t.find(".tabpanel_content_item"),n=0;e.eq(n).addClass("active"),s.eq(n).addClass("active"),i.on("click",function(t){t.preventDefault(),n=i.index(this),e.filter(".active").removeClass("active"),s.filter(".active").removeClass("active"),e.eq(n).addClass("active"),s.eq(n).addClass("active")})})},t.accordionActivator=function(){var t=$(".accordion");if(t.length>0){var e=t.find(".accordion_item_header");e.on("click",function(){$(this).parent(".accordion_item").toggleClass("active")})}},t.serviceOpen=function(){var t=$(".service_list_item");t.length>0&&t.each(function(){var t=$(this).find(".service_list_item_header"),e=$(this);t.on("click",function(){e.toggleClass("active")})})},t.faqOpen=function(){var t=$(".faq_list_item");t.each(function(){var t=$(this).find(".faq_list_item_reply"),e=$(this).find(".faq_list_item_link-hidden a");e.on("click",function(i){i.preventDefault(),t.toggleClass("active"),e.text(t.hasClass("active")?"Скрыть ответ":"Показать ответ")})})},t.OpenSideBar=function(){function t(){l.hasClass("fix")?(r.y=62,r.x=s.offset().left+100,r.position="fixed"):(r.x=100,r.y=0,r.position="absolute"),e(s)}function e(t){var e=t.find(".object-menu_sub-menu");e.css({left:r.x,top:r.y,position:r.position})}function i(){var t=s.find(".object-menu_sub-menu");r.height=l.hasClass("fix")?$(window).height()-62:$(window).height()-219+$(window).scrollTop(),t.css({height:r.height})}var s,n=$(".object-menu_item"),o=$(".left-sidebar_overlay"),a=!1,r={x:0,y:0,position:"absolute",height:0},l=$(".header");n.each(function(){var e=$(this).find(">a"),r=$(this);$(e).on("click",function(e){return e.preventDefault(),r.hasClass("active")?(o.removeClass("active"),n.removeClass("active"),void(a=!1)):(n.filter(".active").removeClass("active"),o.addClass("active"),r.addClass("active"),s=r,a=!0,t(),void i())})}),o.on("click",function(){o.removeClass("active"),n.removeClass("active"),a=!1}),$(window).on("scroll",function(){a&&(t(),i())}),$(window).on("resize",function(){a&&i()})},t.OpenDesktop=function(){var t=$(".main-nav_search"),e=$(".header_search"),i=$(".header_search_btn-close");t.on("click",function(){e.addClass("active")}),i.on("click",function(){e.removeClass("active")})},t.openMobileSearch=function(){var t=$(".header-mobile"),e=t.find(".header-mobile_b-search"),i=t.find(".header-mobile_search");i.on("click",function(){e.toggleClass("active")})},t.selects=function(){var t=$(".jq-select");t.selectmenu(),$(window).on("resize",function(){t.selectmenu("refresh")});var e=$(".custom-select");e.each(function(){var t=$(this).find(".custom-select_arrow"),e=$(this).find("select");t.on("click",function(){i(e)})});var i=function(t){var e=$(t)[0],i=!1;if(document.createEvent){var s=document.createEvent("MouseEvents");s.initMouseEvent("mousedown",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),i=e.dispatchEvent(s)}else e.fireEvent&&(i=e.fireEvent("onmousedown"));i||alert("It didn't worked in your browser.")}},t.openDatePicker=function(){var t=$(".js-date-picker"),e=t.find(".js-date-picker_input"),i=t.find(".js-date-picker_link");e.datepicker({monthNames:["Январь","Ферраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],dayNamesMin:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],firstDay:1,showOtherMonths:!0,selectOtherMonths:!0}),i.on("click",function(t){t.preventDefault(),e.datepicker("show")})},t.openCalendar=function(){var t=$(".select-cal"),e=t.find(".select-cal_btn"),i=(t.find(".select-cal_menu"),t.find(".select-cal_calendar")),s=t.find(".select-cal_input"),n=t.find(".select-cal_menu_item"),o=t.find(".select-cal_text");i.datepicker({monthNames:["Январь","Ферраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],dayNamesMin:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],firstDay:1,showOtherMonths:!0,selectOtherMonths:!0,dateFormat:"dd-mm-yy",onSelect:function(e){s.val(e),o.text(e),t.removeClass("open")}}),e.on("click",function(){t.toggleClass("open"),console.log("open")}),n.on("click",function(){s.val($(this).attr("data-val")),o.text($(this).text()),t.removeClass("open")})},t.popup=function(){var t=$(".gallery");if(t.length>0){var e=[];t.each(function(){var t={src:"",thumb:"",type:""};t.src=$(this).attr("href"),t.thumb=$(this).attr("data-thumb"),t.type=$(this).hasClass("gallery_video")?"iframe":"image",e.push(t)}),t.on("click",function(i){if(i.preventDefault(),0===$(this).parents(".scroll").length){var s=t.index(this);$.magnificPopup.open({items:e,gallery:{enabled:!0},image:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><div class="mfp-img"></div><div class="mfp-bottom-bar"><div class="mfp-thumb mfp-thumb__prev"></div><div class="mfp-thumb mfp-thumb__next"></div><div class="mfp-title"></div><div class="mfp-counter"></div></div></div>'},iframe:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><div class="mfp-img"><iframe class="mfp-iframe" frameborder="0" allowfullscreen></iframe></div><div class="mfp-bottom-bar"><div class="mfp-thumb mfp-thumb__prev"></div><div class="mfp-thumb mfp-thumb__next"></div><div class="mfp-title"></div><div class="mfp-counter"></div></div></div>'},callbacks:{change:function(){function t(t,e){var i=new Image;$(i).attr("src",t),$(i).load(function(){e.html(""),e.append($(i))})}var i,s,n,o,a=$.magnificPopup.instance,r=a.index,l=e;n=a.content.find(".mfp-thumb__prev"),o=a.content.find(".mfp-thumb__next"),0===r?(s=l[l.length-1].thumb,i=l[r+1].thumb):r===l.length-1?(i=l[0].thumb,s=l[r-1].thumb):(i=l[r+1].thumb,s=l[r-1].thumb),t(s,n),t(i,o),n.on("click",function(){$(this).off("click"),a.prev()}),o.on("click",function(){$(this).off("click"),console.log("click"),a.next()})},open:function(){console.log("open");var t=$.magnificPopup.instance,e=t.container.find(".mfp-thumb__prev"),i=t.container.find(".mfp-thumb__next");e.off("click"),i.off("click")}}}),$.magnificPopup.instance.goTo(s)}})}$(".image-gallery").magnificPopup({image:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><div class="mfp-img"></div><div class="mfp-bottom-bar"><div class="mfp-thumb mfp-thumb__prev"></div><div class="mfp-thumb mfp-thumb__next"></div><div class="mfp-title"></div><div class="mfp-counter"></div></div></div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:'<a href="%url%">The image</a> could not be loaded.'},type:"image",gallery:{enabled:!0},callbacks:{change:function(){function t(t,e){var i=new Image;$(i).attr("src",t),$(i).load(function(){e.html(""),e.append($(i))})}var e,i,s,n,o=$.magnificPopup.instance,a=o.index,r=o.items;e=$(r[a+1]).attr("href")||$(r[a+1]).attr("src"),i=$(r[a-1]).attr("href")||$(r[a-1]).attr("src"),s=o.content.find(".mfp-thumb__prev"),n=o.content.find(".mfp-thumb__next"),0===a&&(i=$(r[r.length-1]).attr("href")||$(r[r.length-1]).attr("src")),a===r.length-1&&(e=$(r[0]).attr("href")||$(r[0]).attr("src")),t(i,s),t(e,n)},open:function(){var t=$.magnificPopup.instance,e=t.content.find(".mfp-thumb__prev"),i=t.content.find(".mfp-thumb__next");console.log(t.index),e.on("click",function(){t.prev()}),i.on("click",function(){t.next()})}}});var i=$(".text-gallery");if(i.length>0){var s=[];i.each(function(){var t={employmentname:"",employmentdesc:""};t.employmentname=$(this).attr("data-employmentname"),t.employmentdesc=$(this).attr("data-employmentdesc"),s.push(t)}),i.magnificPopup({key:"my-popup",items:s,type:"inline",inline:{markup:'<div class="white-popup"><div class="mfp-close"></div><div class="white-popup_header mfp-employmentname"></div><div class="white-popup_content mfp-employmentdesc"></div><div class="white-popup_footer mfp-countertext"></div></div>'},gallery:{enabled:!0},callbacks:{markupParse:function(){}}})}var n=$(".text-popup");n.length>0&&n.each(function(){var t=$(this).attr("data-text");$(this).magnificPopup({items:{text:t},inline:{markup:'<div class="white-popup"><div class="mfp-close"></div><div class="white-popup_header mfp-header"></div><div class="white-popup_content mfp-text"></div></div>'},callbacks:{elementParse:function(t){console.log(t)}}})})},t.concealedBlock=function(){var t=$(".b-concealed");t.each(function(){var t=$(this).find(".b-concealed_link-more"),e=$(this);t.on("click",function(t){t.preventDefault(),e.toggleClass("active"),e.hasClass("active")?($(this).text("Свернуть"),postSlider.reloadSlider(),postSlider.goToSlide(0)):$(this).text("Узнать больше")})})},t.timeTable=function(){var t=$(".section-header_link__time-table"),e=$(".time-table_slider");e.lory({rewind:!0,slidesToScroll:1}),t.on("click",function(t){t.preventDefault(),e.data().lory.next()})},t}();t.Main=e;var i=function(){function t(t){this.firstSlider=0,this.galleryItemMargin=29,this.gallery=t,this.init(),this.filterSelect.val("all"),this.filterItems.eq(0).addClass("active"),this.events()}return t.prototype.init=function(){this.galleryItems=this.gallery.find(".swipe-slider_item"),this.galleryItemCount=this.gallery.find(".swipe-slider_item").length,this.galleryItemWidth=this.gallery.find(".swipe-slider_item").width()+this.galleryItemMargin,this.galleryWrap=this.gallery.find(".swipe-slider_wrap"),this.galleryList=this.gallery.find(".swipe-slider_list"),this.links=this.gallery.find(".swipe-slider_link"),this.galleryWidth=this.gallery.width(),this.ctrlNext=this.gallery.find(".swipe-slider_ctrl__next"),this.ctrlPrev=this.gallery.find(".swipe-slider_ctrl__prev"),this.galleryWrap.css({width:this.galleryItemWidth*this.galleryItemCount}),this.galleryList.css({width:this.galleryItemWidth*this.galleryItemCount}),this.filter=this.gallery.find(".swipe-slider_filter"),this.filterSelect=this.filter.find(".swipe-slider_filter_select"),this.filterItems=this.filter.find(".swipe-slider_filter_item"),this.galleryLinks=this.gallery.find(".events_item_link")},t.prototype.events=function(){var t={start:0,current:0,save:0,change:0},e=this;$(window).on("resize",function(){e.init(),e.goToSlide(e.firstSlider,t),e.reloadSlider()}),this.galleryWrap.on("mousedown",function(i){e.downHandler(i,t)}),$("body").on("mouseup",function(i){e.upHandler(i,t)}),this.galleryWrap.on("touchstart",function(i){e.downHandler(i.originalEvent.touches[0],t)}),this.galleryWrap.on("touchmove",function(i){e.moveHandler(i.originalEvent.touches[0],t)}),this.galleryWrap.on("touchend",function(i){e.upHandler(i.originalEvent.touches[0],t)}),this.ctrlNext.on("click",function(){e.goToSlide(e.firstSlider+1,t)}),this.ctrlPrev.on("click",function(){e.goToSlide(e.firstSlider-1,t)}),this.links.on("click",function(){e.goToSlide(e.links.index(this),t)}),this.filterItems.on("click",function(t){var i;t.preventDefault(),i=$(this).attr("data-filter"),e.filterItems.removeClass("active"),$(this).addClass("active"),e.filterSelect.val(i),e.filt(i)}),this.filterSelect.on("selectmenuchange",function(){var t;t=e.filterSelect.val(),e.filterItems.removeClass("active"),e.filterItems.each(function(){$(this).attr("data-filter")===t&&$(this).addClass("active")}),e.filt(t)}),this.galleryList.on("click",function(t){e.galleryList.hasClass("scroll")&&t.preventDefault()})},t.prototype.upHandler=function(t,e){0===e.change&&this.galleryList.removeClass("scroll"),e.save=e.current,this.galleryWrap.off("mousemove");var i=-1*Math.round(e.current/this.galleryItemWidth);this.goToSlide(i,e),e.change=0},t.prototype.moveHandler=function(t,e){this.galleryList.addClass("scroll"),e.current=e.save+-(e.start-t.pageX),e.current=e.current>0?0:e.current,this.galleryList.width()>this.galleryWidth?e.current<-1*(this.galleryList.width()-this.galleryWidth-this.galleryItemMargin)&&(e.current=-1*(this.galleryList.width()-this.galleryWidth-this.galleryItemMargin)):e.current=0,this.galleryWrap.css("transform","translate3d("+e.current+"px, 0, 0)"),e.change=e.current},t.prototype.downHandler=function(t,e){var i=this;void 0!==t.preventDefault&&t.preventDefault(),e.start=t.pageX,this.galleryWrap.on("mousemove",function(t){i.moveHandler(t,e)})},t.prototype.goToSlide=function(t,e){var i,s,n=this;if(t=t>this.galleryItemCount-1?this.galleryItemCount-1:t,t=0>t?0:t,i=t*this.galleryItemWidth*-1,e.current=i,e.save=i,n.firstSlider=t,this.galleryList.width()>this.galleryWidth){if(e.current<-1*(this.galleryList.width()-this.galleryWidth-this.galleryItemMargin)){e.current=-1*(this.galleryList.width()-this.galleryWidth-this.galleryItemMargin);var o=Math.round(this.galleryWidth/this.galleryItemWidth);this.firstSlider=n.firstSlider>this.galleryItemCount-1-(o-1)?this.galleryItemCount-1-(o-1):this.firstSlider}}else e.current=0;this.galleryWrap.css("transform","translate3d("+e.current+"px, 0, 0)"),this.galleryWrap.css("transition","all .5s ease-out"),s=setInterval(function(){n.galleryWrap.css("transition","all 0s ease-out"),clearInterval(s)},500)},t.prototype.filt=function(t){var e=this;return"all"===t?(this.galleryItems.removeClass("hide"),void e.reloadSlider()):(this.galleryItems.each(function(){$(this).attr("data-filter")===t?$(this).removeClass("hide"):$(this).addClass("hide")}),void e.reloadSlider())},t.prototype.reloadSlider=function(){var t=this.galleryItemCount-this.galleryItems.filter(".hide").length;this.galleryWrap.css({width:this.galleryItemWidth*t}),this.galleryList.css({width:this.galleryItemWidth*t}),this.goToSlide(0,{})},t}(),s=function(){function t(t){this.currentSlide=0,this.coords={start:0,current:0,save:0,finish:0},this.coordsBottom={start:0,current:0,save:0,finish:0},this.slider=t,this.wrap=t.find(".double-slider_main_wrap"),this.list=t.find(".double-slider_main_list"),this.items=t.find(".double-slider_main_item"),this.wrapBottom=t.find(".double-slider_bot_wrap"),this.listBottom=t.find(".double-slider_bot_list"),this.itemsBottom=t.find(".double-slider_bot_item"),this.ctrlNext=t.find(".double-slider_main_ctrl__next"),this.ctrlPrev=t.find(".double-slider_main_ctrl__prev"),this.countSlide=this.items.length,this.items.css({width:this.wrap.width()}),this.list.css({width:this.wrap.width()*this.countSlide}),this.itemsBottom.css({width:this.wrapBottom.width()}),this.listBottom.css({width:this.wrapBottom.width()*this.countSlide});for(var e="",i=0;i<this.countSlide;i++)e+='<div class="double-slider_pagination_item"></div>';t.find(".double-slider_pagination").prepend(e),this.pagination=t.find(".double-slider_pagination_item"),this.pagination.eq(0).addClass("active"),this.events()}return t.prototype.events=function(){var t=this;this.list.on("mousedown",function(e){t.downHandler(e)}),this.list.on("mouseup",function(e){t.upHandler(e)}),this.list.on("touchstart",function(e){t.downHandler(e.originalEvent.touches[0])}),this.list.on("touchmove",function(e){t.moveHandler(e.originalEvent.touches[0])}),this.list.on("touchend",function(e){t.upHandler(e.originalEvent.touches[0])}),this.listBottom.on("mousedown",function(e){t.bottomdownHandler(e)}),this.listBottom.on("mouseup",function(e){t.bottomupHandler(e)}),this.listBottom.on("touchstart",function(e){t.bottomdownHandler(e.originalEvent.touches[0])}),this.listBottom.on("touchmove",function(e){t.bottommoveHandler(e.originalEvent.touches[0])}),this.listBottom.on("touchend",function(e){t.bottomupHandler(e.originalEvent.touches[0])}),this.ctrlNext.on("click",function(){t.changeSlide(t.currentSlide+1)}),this.ctrlPrev.on("click",function(){t.changeSlide(t.currentSlide-1)}),$(window).on("resize",function(){t.items.css({width:t.wrap.width()}),t.list.css({width:t.wrap.width()*t.countSlide}),t.itemsBottom.css({width:t.wrapBottom.width()}),t.listBottom.css({width:t.wrapBottom.width()*t.countSlide}),t.changeSlide(t.currentSlide)})},t.prototype.upHandler=function(){this.coords.save=this.coords.current,this.list.off("mousemove"),this.changeSlide(this.coords.finish>100?this.currentSlide+1:this.currentSlide),this.changeSlide(this.coords.finish<-100?this.currentSlide-1:this.currentSlide)},t.prototype.moveHandler=function(t){this.coords.current=this.coords.save+-(this.coords.start-t.pageX),this.list.css("transform","translate3d("+this.coords.current+"px, 0, 0)"),this.coords.finish=this.coords.start-t.pageX},t.prototype.downHandler=function(t){var e=this;this.coords.finish=0,void 0!==t.preventDefault&&t.preventDefault(),this.coords.start=t.pageX,this.list.on("mousemove",function(t){e.moveHandler(t)})},t.prototype.bottomupHandler=function(){this.coordsBottom.save=this.coordsBottom.current,this.listBottom.off("mousemove"),this.changeSlide(this.coordsBottom.finish>100?this.currentSlide+1:this.currentSlide),this.changeSlide(this.coordsBottom.finish<-100?this.currentSlide-1:this.currentSlide)},t.prototype.bottommoveHandler=function(t){this.coordsBottom.current=this.coordsBottom.save+-(this.coordsBottom.start-t.pageX),this.listBottom.css("transform","translate3d("+this.coordsBottom.current+"px, 0, 0)"),this.coordsBottom.finish=this.coordsBottom.start-t.pageX},t.prototype.bottomdownHandler=function(t){var e=this;this.coordsBottom.finish=0,void 0!==t.preventDefault&&t.preventDefault(),this.coordsBottom.start=t.pageX,this.listBottom.on("mousemove",function(t){e.bottommoveHandler(t)})},t.prototype.changeSlide=function(t){var e,i=this;t=t>=this.countSlide?this.countSlide-1:t,t=0>t?0:t,this.list.css("transform","translate3d("+this.items.width()*t*-1+"px, 0, 0)"),this.list.css("transition","all .5s ease-out"),this.listBottom.css("transform","translate3d("+this.itemsBottom.innerWidth()*t*-1+"px, 0, 0)"),this.listBottom.css("transition","all .5s ease-out"),e=setInterval(function(){i.list.css("transition","all 0s ease-out"),i.listBottom.css("transition","all 0s ease-out"),clearInterval(e)},500),this.coords.current=this.items.width()*t*-1,this.coords.save=this.coords.current,this.coordsBottom.current=this.itemsBottom.innerWidth()*t*-1,this.coordsBottom.save=this.coordsBottom.current,this.currentSlide=t,this.pagination.filter(".active").removeClass("active"),this.pagination.eq(this.currentSlide).addClass("active")},t}(),n=function(){function t(t){this.coords={start:0,current:0,save:0,finish:0},this.slider=t.find(".header-slider_content_slider"),this.wrap=this.slider.find(".header-slider_content_slider_list-wrap"),this.list=this.slider.find(".header-slider_content_slider_list"),this.items=this.slider.find(".header-slider_content_slider_item"),this.btnNext=this.slider.find(".header-slider_content_slider_ctrl__next"),this.btnPrev=this.slider.find(".header-slider_content_slider_ctrl__prev"),this.timeLineWrap=this.slider.find(".header-slider_content_timeline"),this.timeLineList=this.slider.find(".header-slider_content_timeline_list"),this.timeLineItems=this.slider.find(".header-slider_content_timeline_item "),this.countSlide=this.items.length,this.currentSlide=0,this.timeLineItems.eq(this.currentSlide).addClass("active"),this.timeLineList.css({width:this.timeLineItems.width()*this.countSlide}),this.items.css({width:this.wrap.width()}),this.list.css({width:this.wrap.width()*this.countSlide}),this.imgItems=t.find(".header-slider_img"),this.imgItems.eq(this.currentSlide).addClass("active"),this.events()}return t.prototype.events=function(){var t=this;$(window).on("resize",function(){t.timeLineList.css({width:t.timeLineItems.width()*t.countSlide}),t.items.css({width:t.wrap.width()}),t.list.css({width:t.wrap.width()*t.countSlide}),t.changeSlide(t.currentSlide)}),this.list.on("mousedown",function(e){t.downHandler(e)}),this.list.on("mouseup",function(e){t.upHandler(e)}),this.list.on("touchstart",function(e){t.downHandler(e.originalEvent.touches[0])}),this.list.on("touchmove",function(e){t.moveHandler(e.originalEvent.touches[0])}),this.list.on("touchend",function(e){t.upHandler(e.originalEvent.touches[0])}),this.timeLineItems.on("click",function(){t.changeSlide(t.timeLineItems.index(this))}),this.btnNext.on("click",function(){t.changeSlide(t.currentSlide+1)}),this.btnPrev.on("click",function(){t.changeSlide(t.currentSlide-1)})},t.prototype.upHandler=function(){this.coords.save=this.coords.current,this.list.off("mousemove"),this.changeSlide(this.coords.finish>100?this.currentSlide+1:this.currentSlide),this.changeSlide(this.coords.finish<-100?this.currentSlide-1:this.currentSlide)},t.prototype.moveHandler=function(t){this.coords.current=this.coords.save+-(this.coords.start-t.pageX),this.list.css("transform","translate3d("+this.coords.current+"px, 0, 0)"),this.coords.finish=this.coords.start-t.pageX},t.prototype.downHandler=function(t){var e=this;this.coords.finish=0,void 0!==t.preventDefault&&t.preventDefault(),this.coords.start=t.pageX,this.list.on("mousemove",function(t){e.moveHandler(t)})},t.prototype.changeSlide=function(t){var e,i=this;t=t>=this.countSlide?this.countSlide-1:t,t=0>t?0:t,this.list.css("transform","translate3d("+this.items.width()*t*-1+"px, 0, 0)"),this.list.css("transition","all .5s ease-out"),this.timeLineList.css("transform","translate3d("+this.timeLineItems.width()*t*-1+"px, 0, 0)"),this.timeLineList.css("transition","all .5s ease-out"),e=setInterval(function(){i.list.css("transition","all 0s ease-out"),clearInterval(e)},500),this.timeLineItems.filter(".active").removeClass("active"),this.timeLineItems.eq(t).addClass("active"),this.imgItems.filter(".active").removeClass("active"),this.imgItems.eq(t).addClass("active"),this.coords.current=this.items.width()*t*-1,this.coords.save=this.coords.current,this.currentSlide=t},t}()}(Main||(Main={})),$(document).ready(function(){Main.Main.init()});